type Query {
	"Fetch the relevant client config"
	config: ClientConfig!

	"Fetch a user by their id"
    profileById(id: Int): User

    "Fetch a user by their username"
    profileByName(username: String): User 
}

type Mutation {
	"Create a new user account"
    register(details: UserRegistration): AuthenticatedUser

    "Sign in with the given account details"
    authenticate(details: UserAuthentication): AuthenticatedUser
}

type Subscription {
	_placeholder: Boolean
}

"""
The details required to register a new account
"""
input UserRegistration {
    username: String!,
    firstName: String!,
    lastName: String!,
    email: String!,
    password: String!
}

"""
The details required to sign in
"""
input UserAuthentication {
    email: String
    username: String
    password: String!
}

"""
Configuration block holding values relevant to the client.
The client config should be queried on application launch
and provide hints about authentication, UI, and more.
"""
type ClientConfig {
	"The name of the current Vindigo instance"
	instanceName: String!

	"Whether registrations are open"
	allowRegister: Boolean!

	"Whether anonymous users are allowed"
	allowAnonymous: Boolean!
}

"""
Information returned when authenticating
with the server
"""
type AuthenticatedUser {
    token: String
    user: User
}

"""
Represents a single Vindigo user
"""
type User {
    "The unique user id"
    id: Int!

    "The public email address"
    email: String!

    "The username of the user"
    username: String!

    "The first name of the user"
    firstName: String!

    "The last name of the user"
    lastName: String!

    "The current activity status of the user"
    activity: UserActivity!
}

"""
Represents an activity state
"""
enum UserActivity {
    IDLE,
    ACTIVE
}